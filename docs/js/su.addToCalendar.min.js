var su=function(){function t(t){return null==t?"":t}function e(t,e){return null==t?e:t}var n={file:"file",link:"link"},a={addToCalendar:function(){function a(t,e,a,l,c,d,s,u){var p="%0A%0A%0A"+r.footer,g=t.toLowerCase(),f=o[g],D="";if(D=f.event.base,""==D||""==f.event.type)return console.log("Calendar Service not supported."),0;c+=p,c=su.helper.getSafeString(c,f.event.type),d=su.helper.getCalendarString(new Date(d)),s=su.helper.getCalendarString(new Date(s));var v=su.helper.getCalendarString(new Date);if(D=D.replace(i.organizer,e),D=D.replace(i.title,a),D=D.replace(i.location,l),D=D.replace(i.description,c),D=D.replace(i.startDate,d),D=D.replace(i.endDate,s),D=D.replace(i.today,v),D=D.replace(i.id,u),f.event.type==n.link){var T=window.open(D,"_blank");window.focus&&T.focus()}if(f.event.type==n.file){var S=document.createElement("a");D=encodeURIComponent(D),S.setAttribute("download",a+f.event.extension),S.setAttribute("href","data:"+f.event.mime+";charset=utf-8,"+D),S.click()}}var r,i={organizer:"|Organizer|",title:"|Title|",location:"|Location|",description:"|Description|",startDate:"|StartDate|",endDate:"|EndDate|",today:"|Today|",id:"|ID|"},o={outlook:{event:{base:"https://outlook.live.com/owa/?path=/calendar/action/compose&rru=addevent=addevent&subject="+i.title+"&location="+i.location+"&body="+i.description+"&startdt="+i.startDate+"&enddt="+i.endDate,type:n.link}},google:{event:{base:"https://calendar.google.com/calendar/render?action=TEMPLATE&dates="+i.startDate+"/"+i.endDate+"&location="+i.location+"&text="+i.title+"&details="+i.description+"&pli=1",type:n.link}},icalendar:{event:{base:"BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:"+i.organizer+"\nBEGIN:VEVENT\nUID:"+i.id+"\nDTSTAMP;TZID=UTC:"+i.today+"\nDTSTART;TZID=UTC:"+i.startDate+"\nSEQUENCE:0\nTRANSP:OPAQUE\nDTEND;TZID=UTC:"+i.endDate+"\nLOCATION:"+i.location+"\nSUMMARY:"+i.title+"\nDESCRIPTION:"+i.description+"\nEND:VEVENT\nEND:VCALENDAR",type:n.file,mime:"text/calendar",extension:".ics"}}},l={initialize:function(n){r=$.extend({},l.defaults,n),$(r.selector).on("click touchstart",function(n){n.stopPropagation(),n.preventDefault();var i=t($(this).attr("data-service")),o=e($(this).attr("data-organizer"),r.organizer),l=t($(this).attr("data-title")),c=t($(this).attr("data-location")),d=t($(this).attr("data-description")),s=t($(this).attr("data-start-date")),u=t($(this).attr("data-end-date")),p=t($(this).attr("data-uid"))+"@"+o;return a(i,o,l,c,d,s,u,p),!1})},defaults:{organizer:"sercanuste.com",footer:"Get updated with us.",selector:".su-event-button"}};return l}(),helper:function(){function t(t){return t<10?"0"+t:t}function e(e){return e.getUTCFullYear().toString()+t(e.getUTCMonth()+1).toString()+t(e.getUTCDate()).toString()+"T"+t(e.getUTCHours()).toString()+t(e.getUTCMinutes()).toString()+t(e.getUTCSeconds()).toString()+"Z"}function a(t){var e={gt:">",lt:"<",amp:"&",quot:'"'};return t.replace(/&(#(?:x[0-9a-f]+|\d+)|[a-z]+);?/gi,function(t,n){return"#"===n[0]?String.fromCharCode("x"===n[1].toLowerCase()?parseInt(n.substr(2),16):parseInt(n.substr(1),10)):e.hasOwnProperty(n)?e[n]:t})}function r(t,e){var a=e==n.file?"\\n":(n.link,"%0A");return i(t.replace(/\r?\n/g,"<br />").replace(/<br>|<br\/>|<br \/>|%0A/gi,a))}function i(t){return t.replace(/(<([^>]+)>)/gi,"")}var o={getSafeString:function(t,e){return t=a(t),t=r(t,e),t},getCalendarString:function(t){return"[object Date]"===toString.call(t)?e(t):(console.log("Invalid Date!"),"")}};return o}()};return a}();